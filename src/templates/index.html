<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Call</title>
    <link rel="stylesheet" href="{{ url_for('static', path='styles.css') }}">
</head>
<body>
    <!-- First Page -->
    <div id="start-page" class="page">
        <h1>Welcome to the Video Call</h1>/static/styles.css"
        <button id="start-button" class="primary-button">Start Meeting</button>
    </div>

    <!-- Second Page -->
    <div id="meeting-page" class="page hidden">
        <div class="video-container">
            <video id="video" autoplay></video>
        </div>
        <div class="controls">
            <button id="audio-button" class="control-button">Mute</button>
            <button id="chat-toggle-button" class="control-button">Chat</button>
            <button id="end-button" class="primary-button">End Meeting</button>
        </div>
        <div id="chat-window" class="chat-window hidden">
            <div id="chat-messages"></div>
            <input type="text" id="chat-input" placeholder="Type a message...">
            <button id="send-button" class="control-button">Send</button>
        </div>
    </div>
    
    <!-- <script src="{{ url_for('static', path='script.js') }}" ></script> -->
    <script>
       

// Use the Fetch API to get the response
  
// let ans;
// async function samm(){
//     const url = 'http://localhost/output';
//     const res= await fetch(url);
//     console.log(res);
// }
// fetch(url)
//     .then((response) => {
//         // Check if the response is OK (status in the range 200-299)
//         if (!response.ok) {
//             throw new Error('Network response was not ok ' + response.statusText);
//         }
//         // Parse the JSON from the response
//         return response.json();
//     })
//     .then((data) => {
//         // Process the data here
//         console.log(data); // Log the data to the console
//     })
//     .catch((error) => {
//         // Handle any errors
//         console.error('There has been a problem with your fetch operation:', error);
//     });
//     alert("sdf")

// samm();
const eventSource = new EventSource('http://localhost:80/output');

        eventSource.onmessage = function(event) {
            const messageDiv = document.getElementById('messages');
            messageDiv.innerHTML += `<p>${event.data}</p>`;
            console.log(event.data)
        };

        eventSource.onerror = function() {
            console.error('EventSource failed.');
        };
    </script>
</body>
</html>
